---
title: "GEOG 714 - Assignment 1"
author: "Haoran Xu"
date: "Sep 22, 2024"
output:
  pdf_document:
    latex_engine: xelatex
header-includes:
  - \usepackage{listings}
  - \usepackage{xcolor}
  - |
    \lstset{
      breaklines=true,       
      breakatwhitespace=true,
      basicstyle=\ttfamily,
      keepspaces=true,
      columns=flexible,
      showstringspaces=false,
      escapeinside={(*@}{@*)},
      commentstyle=\color{gray},
      xleftmargin=1em,
      xrightmargin=1em
    }
---

```{r setup, include=FALSE}
# install.packages("formatR")
library(formatR)
library(here)
knitr::opts_chunk$set(echo = TRUE, results = 'hide', fig.show = 'hide', tidy.opts = list(width.cutoff = 80), tidy = TRUE)
```

## Find some data online and use the t-test() function in R.  Provide a brief description of your reasoning  and interpretation of the results of your analysis.

Pitchfork is an American online music publication founded in 1996 by Ryan Schreiber in Minneapolis. I have been keeping reading the album reviews on its webstie for six more years. For this project I used ["Pitchfork Reviews: Music Critiques Over the Years"](https://www.kaggle.com/datasets/timstafford/pitchfork-reviews) Kaggle dataset uploaded by Tim Stafford.

### cleaning pitchfork-rated album dataset

```{r}
pitchfork_albums <- data.frame(read.csv(paste0(here(),"/Assignments/Assignment2/pitchfork_reviews.csv")))
pitchfork_albums_updated <- pitchfork_albums[pitchfork_albums$score != "Not Available" & !(pitchfork_albums$year == "Not Available"), ]
pitchfork_albums_updated$score <- as.numeric(pitchfork_albums_updated$score)
agg_albums <- aggregate(pitchfork_albums_updated$score, by=list(pitchfork_albums_updated$year), FUN=,mean)
names(agg_albums) <- c("Year", "ave_scores")
plot(agg_albums$Year, agg_albums$ave_scores)
```

### t-test
My null hypothesis is: the scored of albums in 2020 and 2021 rated by Pitchfork do not have a significant difference.

```{r}
pitchfork_albums_2020_2021 <- pitchfork_albums[pitchfork_albums$year == "2020" | pitchfork_albums$year == "2021",]
pitchfork_albums_2020_2021$score <- as.numeric(pitchfork_albums_2020_2021$score)
t.test(pitchfork_albums_2020_2021$score ~ pitchfork_albums_2020_2021$year)
```

From the t-test results, the p-value is 0.9566, the mean scores of albums in 2020 and 2021 are respectively 7.250 and 7.248, this means there's a high probability that the null hypothesis is true. So it means the scored of albums in 2020 and 2021 rated by Pitchfork do not have a significant difference.
